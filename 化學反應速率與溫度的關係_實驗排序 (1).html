<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>實驗步驟排序</title><script src="https://cdn.tailwindcss.com"></script><style>@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');body{font-family:'Noto Sans TC',sans-serif;background-color:#f8fafc;color:#212529;}button span{pointer-events:none;}.card{touch-action:none;transition:all 0.2s ease;box-shadow:0 2px 4px rgba(0,0,0,0.05);border:3px solid transparent;background-color:white;width:100%;}.card:hover:not(.card-preset){transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1);}.card.dragging{opacity:0.5;transform:scale(1.05);background-color:#cfe2ff;}.card-preset{background-color:#e0e7ff;border-color:#a5b4fc;color:#3730a3;cursor:default;}.card.correct{border-color:#198754;}.card.incorrect{border-color:#dc3545;}.drop-zone{transition:background-color 0.2s ease,border-color 0.2s ease;border:2px dashed #dee2e6;min-height:60px;display:flex;align-items:center;justify-content:center;}.drop-zone.drag-over{background-color:#e7f5ff;border-color:#0F4C81;}.drop-zone.incorrect-empty{border-color:#dc3545;background-color:#f8d7da;}#card-sidebar{position:-webkit-sticky;position:sticky;top:1.5rem;align-self:start;}#result-modal{transition:opacity 0.3s ease-in-out;}#result-modal.hidden{pointer-events:none;opacity:0;}</style></head><body class="p-4 md:p-8"><div class="max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-lg"><header class="text-center mb-8 border-b pb-4 border-slate-200"><h1 class="text-3xl font-bold text-[#0F4C81]">化學反應速率與溫度的關係</h1><p class="text-lg mt-2 text-slate-600">探討溫度對鹽酸與硫代硫酸鈉反應速率的影響。</p></header><main class="grid grid-cols-1 md:grid-cols-3 gap-8"><aside id="card-sidebar" class="md:col-span-1"><div class="p-4 rounded-lg bg-slate-100"><h2 class="text-xl font-semibold mb-3 text-slate-800">步驟卡片區</h2><p class="text-sm mb-4 text-slate-600">請將卡片拖曳到右方工作區，排出正確順序。注意！可能包含無關的「干擾」步驟。</p><div id="source-cards" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-2 gap-4 min-h-[100px]"></div></div></aside><div class="md:col-span-2"><h2 class="text-xl font-semibold mb-3 text-slate-800">工作區 (共 7 個步驟)</h2><div id="workspace" class="flex flex-col gap-4"></div><div class="flex justify-center items-center gap-4 mt-8"><button id="clear-btn" class="bg-slate-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-600 transition-colors text-lg"><span>清空重來</span></button><button id="complete-btn" class="bg-blue-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-900 transition-colors text-lg shadow-md"><span>完成並複製</span></button></div></div></main></div><div id="result-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4"><div class="bg-white p-6 md:p-8 rounded-lg shadow-2xl text-center w-full max-w-lg"><h3 class="text-2xl font-bold mb-4 text-[#0F4C81]">你的作答結果</h3><p class="mb-4 text-slate-600">文字已自動選取，請按 <kbd class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg">Ctrl+C</kbd> 或 <kbd class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg">Cmd+C</kbd> 複製。</p><textarea id="result-textarea" readonly class="w-full h-48 p-3 border border-slate-300 rounded-md bg-slate-50 text-sm"></textarea><button id="close-modal-btn" class="mt-6 bg-slate-500 text-white font-bold py-2 px-8 rounded-lg hover:bg-slate-600 transition-colors"><span>關閉</span></button></div></div><script>document.addEventListener('DOMContentLoaded',function(){const steps=[{"id":"step-0","text":"在三張白紙上，分別畫上清晰、大小完全相同的十字記號。","isPreset":true},{"id":"step-1","text":"在三個燒杯中，各倒入 50 mL、濃度 0.1 M 的硫代硫酸鈉溶液。","isPreset":false},{"id":"step-2","text":"將三個燒杯，分別用隔水加熱的方式，加熱至 20℃、40℃、60℃，並維持溫度。","isPreset":false},{"id":"step-3","text":"準備三份各為 10 mL、濃度 0.1 M 的鹽酸溶液備用。","isPreset":false},{"id":"step-4","text":"將裝有20℃ 的硫代硫酸鈉水溶液燒杯放到十字記號上，倒入一份鹽酸，並在倒入的瞬間按下碼錶開始計時。","isPreset":false},{"id":"step-5","text":"從燒杯正上方持續觀察，當十字記號恰好被黃色沉澱物遮住時，按下碼錶停止計時，並記錄時間。","isPreset":false},{"id":"step-6","text":"依序對 40℃ 和 60℃ 的燒杯，重複步驟 5 和6，並將三次的數據都記錄下來。","isPreset":true}];const presetSteps=[{"id":"step-0","text":"在三張白紙上，分別畫上清晰、大小完全相同的十字記號。","isPreset":true},{"id":"step-6","text":"依序對 40℃ 和 60℃ 的燒杯，重複步驟 5 和6，並將三次的數據都記錄下來。","isPreset":true}];const allDraggableCards=[{"id":"step-4","text":"將裝有20℃ 的硫代硫酸鈉水溶液燒杯放到十字記號上，倒入一份鹽酸，並在倒入的瞬間按下碼錶開始計時。","isPreset":false},{"id":"distractor-2","text":"從正上方持續觀察，當十字記號恰好被黃色沉澱物遮住時，紀錄測量到的溫度。"},{"id":"step-3","text":"準備三份各為 10 mL、濃度 0.1 M 的鹽酸溶液備用。","isPreset":false},{"id":"step-2","text":"將三個燒杯，分別用隔水加熱的方式，加熱至 20℃、40℃、60℃，並維持溫度。","isPreset":false},{"id":"distractor-0","text":"準備三份鹽酸溶液，分別為 10 mL 的 0.1 M、20 mL 的 0.2 M、30 mL 的 0.3 M。"},{"id":"distractor-1","text":"在三個燒杯中，各倒入約半杯的硫代硫酸鈉溶液。"},{"id":"step-5","text":"從燒杯正上方持續觀察，當十字記號恰好被黃色沉澱物遮住時，按下碼錶停止計時，並記錄時間。","isPreset":false},{"id":"step-1","text":"在三個燒杯中，各倒入 50 mL、濃度 0.1 M 的硫代硫酸鈉溶液。","isPreset":false}];const correctOrderIds=["step-0","step-1","step-2","step-3","step-4","step-5","step-6"];const enableGrading=false;const sourceContainer=document.getElementById('source-cards');const workspaceContainer=document.getElementById('workspace');const completeBtn=document.getElementById('complete-btn');const clearBtn=document.getElementById('clear-btn');const resultModal=document.getElementById('result-modal');const resultTextarea=document.getElementById('result-textarea');const closeModalBtn=document.getElementById('close-modal-btn');let draggedCardId=null;function showResultModal(text){resultTextarea.value=text;resultModal.classList.remove('hidden');resultTextarea.focus();resultTextarea.select();}function hideResultModal(){resultModal.classList.add('hidden');}function createCard(step,isDraggable){const card=document.createElement('div');card.id=step.id;card.textContent=step.text;card.className='card p-3 rounded-lg border select-none text-left';if(isDraggable){card.draggable=true;card.classList.add('cursor-grab');card.dataset.isDraggable=true;card.addEventListener('dragstart',e=>{draggedCardId=e.target.id;setTimeout(()=>e.target.classList.add('dragging'),0);});card.addEventListener('dragend',e=>e.target.classList.remove('dragging'));}else{card.classList.add('card-preset');}return card;}function createDropZone(){const zone=document.createElement('div');zone.className='drop-zone rounded-lg flex-grow';zone.addEventListener('dragover',e=>{e.preventDefault();e.currentTarget.classList.add('drag-over');});zone.addEventListener('dragleave',e=>e.currentTarget.classList.remove('drag-over'));zone.addEventListener('drop',handleDrop);return zone;}function removeGradingClasses(){workspaceContainer.querySelectorAll('.card').forEach(c=>c.classList.remove('correct','incorrect'));workspaceContainer.querySelectorAll('.drop-zone').forEach(z=>z.classList.remove('incorrect-empty'));}function initialize(){sourceContainer.innerHTML='';workspaceContainer.innerHTML='';allDraggableCards.forEach(step=>sourceContainer.appendChild(createCard(step,true)));steps.forEach((step,index)=>{const row=document.createElement('div');row.className='flex items-center gap-3 w-full';row.innerHTML=`<span class="text-lg font-semibold w-6 text-right text-slate-500">${index+1}.</span>`;const zone=createDropZone();const presetCard=presetSteps.find(ps=>ps.id===step.id);if(presetCard){zone.appendChild(createCard(presetCard,false));}row.appendChild(zone);workspaceContainer.appendChild(row);});}function handleDrop(e){e.preventDefault();removeGradingClasses();e.currentTarget.classList.remove('drag-over');if(!draggedCardId)return;const draggedCard=document.getElementById(draggedCardId);if(!draggedCard)return;const targetZone=e.currentTarget;if(targetZone.children.length>0){const existingCard=targetZone.children[0];if(existingCard.dataset.isDraggable!=='true')return;if(draggedCard.parentElement){draggedCard.parentElement.appendChild(existingCard);}}targetZone.appendChild(draggedCard);}sourceContainer.addEventListener('dragover',e=>e.preventDefault());sourceContainer.addEventListener('drop',e=>{e.preventDefault();removeGradingClasses();const draggedCard=document.getElementById(draggedCardId);if(draggedCard)sourceContainer.appendChild(draggedCard);});completeBtn.addEventListener('click',()=>{removeGradingClasses();let studentSequenceText='';workspaceContainer.querySelectorAll('.flex').forEach((row,index)=>{const card=row.querySelector('.card');const slot=row.querySelector('.drop-zone');if(card){studentSequenceText+=`${index+1}. ${card.textContent}\n`;if(enableGrading){card.classList.add(card.id===correctOrderIds[index]?'correct':'incorrect');}}else{studentSequenceText+=`${index+1}. (空白)\n`;if(enableGrading&&slot)slot.classList.add('incorrect-empty');}});showResultModal(studentSequenceText.trim());});clearBtn.addEventListener('click',()=>{removeGradingClasses();const workspaceDraggableCards=Array.from(workspaceContainer.querySelectorAll('[data-is-draggable="true"]'));workspaceDraggableCards.forEach(card=>sourceContainer.appendChild(card));});closeModalBtn.addEventListener('click',hideResultModal);initialize();});</script></body></html>